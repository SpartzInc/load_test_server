<div class="container">
  <%= render 'shared/index_action_bar', title: 'AWS Accounts',
             new_object_path: new_aws_account_path %>

  <table class="table table-striped">
    <thead>
    <tr>
      <th>Name</th>
      <th>Defined Instances</th>
      <th>Actions</th>
    </tr>
    </thead>
    <tbody>
    <% @aws_accounts.each do |aws_account| %>
      <tr>
        <td><%= aws_account.name %></td>
        <td><%= aws_account.aws_rds_instances.count + aws_account.aws_ec2_instances.count %></td>
        <td>
          <div class="btn-group">
            <%= link_to 'Show', aws_account, :class => 'btn btn-info' %>

            <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
              Actions <span class="caret"></span>
            </button>

            <ul class="dropdown-menu" role="menu">
              <li><%= link_to 'Edit', edit_aws_account_path(aws_account) %></li>
              <li class="divider"></li>
              <li><%= link_to 'Destroy', aws_account, method: :delete, data: {confirm: 'Are you sure?'} %></li>
            </ul>
          </div>
        </td>
      </tr>
    <% end %>
    </tbody>
    <tfoot>
    <tr>
      <td colspan="4">
        <%= will_paginate @aws_accounts, renderer: BootstrapPagination::Rails %>
      </td>
    </tr>
    </tfoot>
  </table>
</div>